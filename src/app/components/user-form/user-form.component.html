<!-- app.component.html -->
<div class="w-full mt-10 bg-white shadow-md rounded-lg p-6">
    <h2 class="text-2xl font-bold text-center mb-6">Ajouter un utilisateur</h2>
  
    <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Full Name -->
        <div>
          <label for="fullname" class="block text-sm font-medium text-gray-700">Nom complet</label>
          <input
            id="fullname"
            formControlName="fullname"
            type="text"
            placeholder="Entrez votre nom complet"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
          <small *ngIf="userForm.get('fullname')?.invalid && userForm.get('fullname')?.touched" class="text-red-500 text-xs">
            <span *ngIf="userForm.get('fullname')?.errors?.['required']">Nom complet est requis.</span>
            <span *ngIf="userForm.get('fullname')?.errors?.['minlength']">Minimum 3 caractères requis.</span>
          </small>
        </div>
  
        <!-- NSS -->
        <div>
          <label for="nss" class="block text-sm font-medium text-gray-700">Numéro de sécurité sociale (NSS)</label>
          <input
            id="nss"
            formControlName="nss"
            type="text"
            placeholder="Entrez votre NSS"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
          <small *ngIf="userForm.get('nss')?.invalid && userForm.get('nss')?.touched" class="text-red-500 text-xs">
            NSS est requis et doit être un numéro à 10 chiffres.
          </small>
        </div>
  
        <!-- Email -->
        <div>
          <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
          <input
            id="email"
            formControlName="email"
            type="email"
            placeholder="Entrez votre email"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
          <small *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched" class="text-red-500 text-xs">
            Email valide est requis.
          </small>
        </div>
  
        <!-- Date of Birth -->
        <div>
          <label for="dob" class="block text-sm font-medium text-gray-700">Date de naissance</label>
          <input
            id="dob"
            formControlName="dob"
            type="date"
            placeholder="Sélectionnez votre date de naissance"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
          <small *ngIf="userForm.get('dob')?.invalid && userForm.get('dob')?.touched" class="text-red-500 text-xs">
            Date de naissance est requise.
          </small>
        </div>
  
        <!-- Password -->
        <div>
          <label for="password" class="block text-sm font-medium text-gray-700">Mot de passe</label>
          <input
            id="password"
            formControlName="password"
            type="password"
            placeholder="Entrez un mot de passe"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
          <small *ngIf="userForm.get('password')?.invalid && userForm.get('password')?.touched" class="text-red-500 text-xs">
            Minimum 6 caractères requis.
          </small>
        </div>
  
        <!-- Médecin Nom -->
        <div>
          <label for="medecinName" class="block text-sm font-medium text-gray-700">Médecin Nom</label>
          <input
            id="medecinName"
            formControlName="medecinName"
            type="text"
            placeholder="Entrez le nom du médecin"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>
  
        <!-- Telephone -->
        <div>
          <label for="telephone" class="block text-sm font-medium text-gray-700">Téléphone</label>
          <input
            id="telephone"
            formControlName="telephone"
            type="text"
            placeholder="Entrez votre numéro de téléphone"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>
  
        <!-- Address -->
        <div>
          <label for="address" class="block text-sm font-medium text-gray-700">Adresse</label>
          <input
            id="address"
            formControlName="address"
            type="text"
            placeholder="Entrez votre adresse"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"
          />
        </div>
  
        <!-- Role -->
        <div>
          <label for="role" class="block text-sm font-medium text-gray-700">Rôle</label>
          <select
            id="role"
            formControlName="role"
            class="w-full mt-1 px-4 py-2 border rounded-md shadow-sm focus:ring-[#5932EA] focus:border-[#5932EA] hover:bg-[#5932EA] hover:text-white"
          >
            <option value="">Sélectionnez un rôle</option>
            <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
          </select>
          <small *ngIf="userForm.get('role')?.invalid && userForm.get('role')?.touched" class="text-red-500 text-xs">
            Rôle est requis.
          </small>
        </div>
      </div>
  
      <!-- Buttons -->
      <div class="flex justify-between mt-6">
        <button
          type="button"
          (click)="onReset()"
          class="px-6 py-2  bg-white border-2 border-gray-400 rounded-md "
        >
          Annuler
        </button>
        <button
          type="submit"
          [disabled]="userForm.invalid"
          class="px-6 py-2 bg-[#5932EA] cursor-pointer text-white rounded-md hover:bg-[#3f22b5]"
        >
          Ajouter
        </button>
      </div>
    </form>
  </div>
  